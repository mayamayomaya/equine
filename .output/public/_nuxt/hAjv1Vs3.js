import{u as F}from"./C95MDVUh.js";import{_ as P,r as z,k as w,o as N,I as b,C as l,g as m,y,B as a,z as u,D,X as T,A as i,x as O,R as G,S as H}from"#entry";const L={class:"text-h6 mt-2"},V={class:"text-caption mt-1"},W={class:"text-h6"},j={class:"text-body-2 text-medium-emphasis"},q={class:"text-caption mt-1"},K={class:"text-h4"},U={class:"text-h4"},X={class:"text-h4"},Y={class:"text-h4"},J={__name:"index",setup(Q){const g=F(),v=()=>{let e=0;return g.workspaces.forEach(t=>{t.tasks?.forEach(r=>{if(r.completed&&r.completedAt&&r.created){const n=r.created.split("T")[0],s=r.completedAt.split("T")[0];n===s&&e++}})}),e},o=z({totalTasks:0,totalCompleted:0,totalOverdue:0,workspaceCount:0,completionRate:0,currentStreak:0,rescheduleCount:0}),R=["G","F","E","D","C","B-","B","B+","A-","A","A+","S-","S","S+","SS-","SS","SS+"],f=(e,t)=>{for(let r=t.length-1;r>=0;r--)if(e>=t[r])return R[Math.min(r,R.length-1)];return"G"},C=e=>e.includes("SS")?"text-purple":e.includes("S")?"text-deep-purple":e.includes("A")?"text-primary":e.includes("B")?"text-success":e.includes("C")?"text-warning":e.includes("D")?"text-orange":e.includes("E")?"text-deep-orange":e.includes("F")?"text-error":"text-grey",A=e=>e.includes("SS")?"ðŸ¦„ Mythical Unicorn":e.includes("S")?"ðŸ´ Legendary Stallion":e.includes("A")?"ðŸ‡ Racing Champion":e.includes("B")?"ðŸŽ Reliable Horse":e.includes("C")?"ðŸ´ Average Pony":e.includes("D")?"ðŸ« Tired Mule":e.includes("E")?"ðŸ¦™ Confused Llama":e.includes("F")?"ðŸª Wrong Species":"ðŸ¦¥ Not Even Trying",k=w(()=>{const e=[1,5,10,25,50,75,100,150,200,300,400,500,750,1e3,1500,2e3,3e3],t=[1,2,3,5,7,10,12,15,20,25,30,40,50,75,100,150,200],r=[1,3,7,14,21,30,45,60,75,90,120,150,180,270,365,500,730],n=[1,5,10,20,30,40,50,65,80,100,125,150,200,300,500,750,1e3];return[{id:"task-complete",name:"Task Master",description:"Complete tasks like a champion",icon:"mdi-checkbox-marked-circle",color:"success",current:o.value.totalCompleted,target:e[e.findIndex(s=>s>o.value.totalCompleted)]||3e3,progress:o.value.totalCompleted/(e[e.findIndex(s=>s>o.value.totalCompleted)]||3e3)*100,rank:f(o.value.totalCompleted,e),unlocked:o.value.totalCompleted>0},{id:"workspace-creator",name:"Stable Manager",description:"Create and manage workspaces",icon:"mdi-folder-multiple",color:"primary",current:o.value.workspaceCount,target:t[t.findIndex(s=>s>o.value.workspaceCount)]||200,progress:o.value.workspaceCount/(t[t.findIndex(s=>s>o.value.workspaceCount)]||200)*100,rank:f(o.value.workspaceCount,t),unlocked:o.value.workspaceCount>0},{id:"streak-keeper",name:"Consistency King",description:"Maintain daily completion streaks",icon:"mdi-fire",color:"orange",current:o.value.currentStreak,target:r[r.findIndex(s=>s>o.value.currentStreak)]||730,progress:o.value.currentStreak/(r[r.findIndex(s=>s>o.value.currentStreak)]||730)*100,rank:f(o.value.currentStreak,r),unlocked:o.value.currentStreak>0},{id:"perfectionist",name:"Perfectionist",description:"Maintain high completion rate",icon:"mdi-star",color:"yellow",current:o.value.completionRate,target:100,progress:o.value.completionRate,rank:f(o.value.completionRate,[10,20,30,40,50,55,60,65,70,75,80,85,90,92,94,96,98]),unlocked:o.value.completionRate>50},{id:"procrastinator",name:"Master Procrastinator",description:"Reschedule tasks (lower is better!)",icon:"mdi-calendar-remove",color:"error",current:o.value.rescheduleCount,target:100,progress:Math.min(o.value.rescheduleCount,100),rank:o.value.rescheduleCount===0?"SS+":o.value.rescheduleCount<=5?"S":o.value.rescheduleCount<=20?"A":o.value.rescheduleCount<=50?"B":"G",unlocked:!0},{id:"speed-demon",name:"Speed Demon",description:"Complete tasks on the day they were created",icon:"mdi-lightning-bolt",color:"purple",current:v(),target:n[n.findIndex(s=>s>v())]||500,progress:v()/(n[n.findIndex(s=>s>v())]||500)*100,rank:f(v(),n),unlocked:v()>0}]}),x=w(()=>{const e=k.value.reduce((r,n)=>r+n.progress,0)/k.value.length;return f(e,[5,10,15,20,30,40,45,50,55,60,65,70,75,80,85,90,95])}),E=w(()=>k.value.reduce((e,t)=>e+t.progress,0)/k.value.length);N(()=>{g.loadFromStorage(),I()});const B=()=>{const e=new Set;if(g.workspaces.forEach(s=>{s.tasks?.forEach(c=>{if(c.completed&&c.completedAt){const p=c.completedAt.split("T")[0];e.add(p)}})}),e.size===0)return 0;const t=Array.from(e).sort().reverse();let r=0;const n=new Date;for(let s=0;s<365;s++){const c=new Date(n);c.setDate(c.getDate()-s);const p=c.toISOString().split("T")[0];if(t.includes(p))r++;else if(s>0)break}return r},I=()=>{let e=0,t=0,r=0,n=0;g.workspaces.forEach(s=>{s.tasks?.forEach(c=>{if(e++,c.completed&&t++,c.rescheduleCount&&(n+=c.rescheduleCount),c.due&&!c.completed){const p=new Date;p.setHours(0,0,0,0);const h=new Date(c.due);h.setHours(0,0,0,0),h<p&&r++}})}),o.value={totalTasks:e,totalCompleted:t,totalOverdue:r,workspaceCount:g.workspaces.length,completionRate:e>0?Math.round(t/e*100):0,currentStreak:B(),rescheduleCount:n}};return(e,t)=>{const r=m("v-card-subtitle"),n=m("v-card-title"),s=m("v-card"),c=m("v-progress-linear"),p=m("v-card-text"),h=m("v-icon"),_=m("v-col"),S=m("v-row"),M=m("v-container");return y(),b(M,{class:"py-8"},{default:l(()=>[a(S,null,{default:l(()=>[a(_,{cols:"12",md:"10",class:"mx-auto"},{default:l(()=>[a(s,{class:"mb-4",variant:"flat"},{default:l(()=>[a(n,null,{default:l(()=>[t[1]||(t[1]=u("h2",null,"Equine Achievements",-1)),a(r,{class:"pa-0"},{default:l(()=>[...t[0]||(t[0]=[D(" Your horse journey ",-1)])]),_:1})]),_:1})]),_:1}),a(s,{class:"mb-4 text-center"},{default:l(()=>[a(p,null,{default:l(()=>[t[2]||(t[2]=u("div",{class:"text-h6 text-medium-emphasis mb-2"},"Overall Rank",-1)),u("div",{class:T(["text-h1 font-weight-bold",C(x.value)])},i(x.value),3),u("div",L,i(A(x.value)),1),a(c,{"model-value":E.value,color:C(x.value).replace("text-",""),height:"8",rounded:"",class:"mt-4"},null,8,["model-value","color"]),u("div",V,i(o.value.totalCompleted)+" tasks completed lifetime ",1)]),_:1})]),_:1}),a(S,null,{default:l(()=>[(y(!0),O(G,null,H(k.value,d=>(y(),b(_,{key:d.id,cols:"12",sm:"6",md:"4"},{default:l(()=>[a(s,{variant:d.unlocked?"elevated":"outlined",class:T({"achievement-locked":!d.unlocked})},{default:l(()=>[a(p,{class:"text-center"},{default:l(()=>[a(h,{size:"48",color:d.unlocked?d.color:"grey",class:"mb-2"},{default:l(()=>[D(i(d.icon),1)]),_:2},1032,["color"]),u("div",W,i(d.name),1),u("div",{class:T(["text-h4 font-weight-bold my-2",C(d.rank)])},i(d.rank),3),u("div",j,i(d.description),1),a(c,{"model-value":d.progress,color:d.unlocked?d.color:"grey",height:"6",rounded:"",class:"mt-3"},null,8,["model-value","color"]),u("div",q,i(d.current)+" / "+i(d.target),1)]),_:2},1024)]),_:2},1032,["variant","class"])]),_:2},1024))),128))]),_:1}),a(s,{class:"mt-4"},{default:l(()=>[a(n,null,{default:l(()=>[...t[3]||(t[3]=[D("Statistics",-1)])]),_:1}),a(p,null,{default:l(()=>[a(S,null,{default:l(()=>[a(_,{cols:"6",sm:"3"},{default:l(()=>[u("div",K,i(o.value.totalTasks),1),t[4]||(t[4]=u("div",{class:"text-caption"},"Total Tasks",-1))]),_:1}),a(_,{cols:"6",sm:"3"},{default:l(()=>[u("div",U,i(o.value.totalCompleted),1),t[5]||(t[5]=u("div",{class:"text-caption"},"Completed",-1))]),_:1}),a(_,{cols:"6",sm:"3"},{default:l(()=>[u("div",X,i(o.value.completionRate)+"%",1),t[6]||(t[6]=u("div",{class:"text-caption"},"Completion Rate",-1))]),_:1}),a(_,{cols:"6",sm:"3"},{default:l(()=>[u("div",Y,i(o.value.currentStreak),1),t[7]||(t[7]=u("div",{class:"text-caption"},"Day Streak",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ee=P(J,[["__scopeId","data-v-5facaf5b"]]);export{ee as default};
